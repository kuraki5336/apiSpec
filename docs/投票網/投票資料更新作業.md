# 投票資料更新作業

## 規格

| 項目                    | 說明                                         |
| ----------------------- | -------------------------------------------- |
| Method                  | POST                                         |
| Required Request Header | Content-Type:application/json; charset=UTF-8 |
| 測試 環境 API 地址      | /vote/order/updateConver_online              |
| 通用格式                | 是                                           |
| authorization           | Bearer { token }                             |

## 請求

### Request 欄位

| 欄位名稱       | 資料型別    | 長度 | 必須 | 說明                          |
| -------------- | ----------- | ---- | ---- | ----------------------------- |
| actNo          | string      | 64   | Y    | actNo(此單單號)               |
| actStartdata   | string      | 8    | Y    | 投票日期 format(yyyymmdd)     |
| actStarttime   | string      | 6    | Y    | 投票時間 format(hhnnss)       |
| actEnddata     | string      | 8    | Y    | 投票截止日期 format(yyyymmdd) |
| actEndtime     | string      | 6    | Y    | 投票截止時間 format(hhnnss)   |
| anonymous      | string      | 1    | Y    | 匿名模式 def "N" ["Y","N"]    |
| mulCheck       | string      | 1    | Y    | 複選模式 def "N" ["Y","N"]    |
| mulCheckqty    | numeric     | 2.0  | Y    | 複選模式 def "1"              |
| actType        | string      | 1    | Y    | 投票模式 def "0" ["0","1"]    |
| bkImg          | string      | 255  | Y    | 背景圖片上傳後的檔名          |
| actTitle       | string      | 40   | Y    | 投票主題                      |
| actTitleDetail | string      | 255  | Y    | 主題簡述                      |
| data           | ArrayObject | -    | Y    | 明細清單                      |

#### data 說明

| 欄位名稱         | 資料型別 | 長度 | 必須 | 說明                           |
| ---------------- | -------- | ---- | ---- | ------------------------------ |
| actItem          | string   | 4    | Y    | 選項 index(活動大項次)         |
| actSubitem       | string   | 4    | Y    | 選項 subIndex(活動子項次)      |
| actItemType      | string   | 1    | Y    | 1. checkbox 2.text def 1       |
| actItemTitle     | string   | 40   | Y    | 主題名稱                       |
| actItem_subtitle | string   | 120  | Y    | 副主題名稱                     |
| actItemContent   | strin g  | max  | Y    | subIndex = 0000 此欄位才會有值 |
| actItemImg       | string   | 255  | Y    | 圖片的 path                    |
| actItemTicket    | string   | 2    | Y    | 票數                           |

### Request 範例

```json
{
  "actNo": "20200730000000A0001",
  "actStartdata": "20200730",
  "actStarttime": "000000",
  "actEnddata": "20200810",
  "actEndtime": "140000",
  "anonymous": "N",
  "mulCheck": "Y",
  "mulCheckqty": "4",
  "actType": "1",
  "bkImg": "actimg001.png",
  "actTitle": "xxxxxxxx活動名稱",
  "actTitleDetail": "666666666",
  "data": [
    {
      "actItem": "0001",
      "actSubitem": "0000",
      "actItemTitle": "台北三日遊",
      "actItem_subtitle": "金山、萬里、北海岸",
      "actItemType": "1",
      "actItemContent": "金山區位於臺灣的東北角，背山面海，緊鄰著太平洋與臺灣海峽，舊名為「金包里」，是由平埔族社名翻譯而來的。 ... 由於此地三面環山，所以在日治時代，日本人保留了「金包里」的金字，改名為「金山」；而在光復後，依照原名改為「金山區」。",
      "actItemImg": "/hhhhh/img01.png",
      "actItemTicket": "2"
    },
    {
      "actItem": "0002",
      "actSubitem": "0000",
      "actItemTitle": "台北三日遊",
      "actItem_subtitle": "金山2、萬里2、北海岸2",
      "actItemType": "1",
      "actItemContent": "金山區位於臺灣的東北角，背山面海，緊鄰著太平洋與臺灣海峽，舊名為「金包里」，是由平埔族社名翻譯而來的。 ... 由於此地三面環山，所以在日治時代，日本人保留了「金包里」的金字，改名為「金山」；而在光復後，依照原名改為「金山區」。",
      "actItemImg": "/hhhhh/img02.png",
      "actItemTicket": "2"
    }
  ]
}
```

## 回應

> 簡單的回應訊息，來確定是否存檔成功
> 使用通用格式 code 200 msg succese

```json
{
  "state": "200",
  "msg": "succese",
  "error": "",
  "data": {}
}
```
