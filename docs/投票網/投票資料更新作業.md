# 投票資料更新作業

### 作業目的

> 投票資料更新作業

## 規格

| 項目                    | 說明                                         |
| ----------------------- | -------------------------------------------- |
| Method                  | POST                                         |
| Required Request Header | Content-Type:application/json; charset=UTF-8 |
| 測試 環境 API 地址      | /vote/order/update_conver_online             |
| 通用格式                | 是                                           |
| authorization           | Bearer { token }                             |

## 請求

### Request 欄位

| 欄位名稱         | 資料型別    | 長度 | 必須 | 說明                               |
| ---------------- | ----------- | ---- | ---- | ---------------------------------- |
| act_no           | string      | 64   | Y    | form.act_no(此單單號)              |
| act_startdata    | string      | 8    | Y    | form.投票日期 format(yyyymmdd)     |
| act_starttime    | string      | 6    | Y    | form.投票時間 format(hhnnss)       |
| act_enddata      | string      | 8    | Y    | form.投票截止日期 format(yyyymmdd) |
| act_endtime      | string      | 6    | Y    | form.投票截止時間 format(hhnnss)   |
| anonymous        | string      | 1    | Y    | form.匿名模式 def "N" ["Y","N"]    |
| mul_check        | string      | 1    | Y    | form.複選模式 def "N" ["Y","N"]    |
| mul_checkqty     | numeric     | 2.0  | Y    | form.複選模式 def "1"              |
| act_type         | string      | 1    | Y    | form.投票模式 def "0" ["0","1"]    |
| bk_img           | string      | 255  | Y    | form.背景圖片上傳後的檔名          |
| act_title        | string      | 40   | Y    | form.投票主題                      |
| act_title_detail | string      | 255  | Y    | form.主題簡述                      |
| data             | ArrayObject | -    | Y    | 明細清單                           |

#### data 說明

| 欄位名稱          | 資料型別 | 長度 | 必須 | 說明                            |
| ----------------- | -------- | ---- | ---- | ------------------------------- |
| act_item          | string   | 4    | Y    | form.選項 index(活動大項次)     |
| act_subitem       | string   | 4    | Y    | form.選項 sub_index(活動子項次) |
| act_item_type     | string   | 1    | Y    | 1. checkbox 2.text def 1        |
| act_item_title    | string   | 40   | Y    | 主題名稱                        |
| act_item_subtitle | string   | 120  | Y    | 副主題名稱                      |
| act_item_content  | strin g  | max  | Y    | sub_index = 0000 此欄位才會有值 |
| act_item_img      | string   | 255  | Y    | 圖片的 path                     |
| act_item_ticket   | string   | 2    | Y    | 票數                            |

### Request 範例

```json
{
  "act_no": "20200730000000A0001",
  "act_startdata": "20200730",
  "act_starttime": "000000",
  "act_enddata": "20200810",
  "act_endtime": "140000",
  "anonymous": "N",
  "mul_check": "Y",
  "mul_checkqty": "4",
  "act_type": "1",
  "bk_img": "actimg001.png",
  "act_title": "xxxxxxxx活動名稱",
  "act_title_detail": "666666666",
  "data": [
    {
      "act_item": "0001",
      "act_subitem": "0000",
      "act_item_title": "台北三日遊",
      "act_item_subtitle": "金山、萬里、北海岸",
      "act_item_type": "1",
      "act_item_content": "金山區位於臺灣的東北角，背山面海，緊鄰著太平洋與臺灣海峽，舊名為「金包里」，是由平埔族社名翻譯而來的。 ... 由於此地三面環山，所以在日治時代，日本人保留了「金包里」的金字，改名為「金山」；而在光復後，依照原名改為「金山區」。",
      "act_item_img": "/hhhhh/img01.png",
      "act_item_ticket": "2"
    },
    {
      "act_item": "0002",
      "act_subitem": "0000",
      "act_item_title": "台北三日遊",
      "act_item_subtitle": "金山2、萬里2、北海岸2",
      "act_item_type": "1",
      "act_item_content": "金山區位於臺灣的東北角，背山面海，緊鄰著太平洋與臺灣海峽，舊名為「金包里」，是由平埔族社名翻譯而來的。 ... 由於此地三面環山，所以在日治時代，日本人保留了「金包里」的金字，改名為「金山」；而在光復後，依照原名改為「金山區」。",
      "act_item_img": "/hhhhh/img02.png",
      "act_item_ticket": "2"
    }
  ]
}
```


## 回應

> 簡單的回應訊息，來確定是否存檔成功
> 使用通用格式 code 200 msg succese

```json
{
  "state": "200",
  "msg": "succese",
  "error": "",
  "data": {}
}
```
